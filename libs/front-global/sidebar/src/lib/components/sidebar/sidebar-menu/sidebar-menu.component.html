<nav class="sidebar-menu" [class.expanded]="open()" role="navigation" aria-label="Main menu">
  <button
    class="menu-toggle sidebar-item surface"
    (click)="toggleMenu()"
    type="button"
    [attr.aria-expanded]="open()"
    [attr.aria-label]="open() ? 'Collapse menu' : 'Expand menu'">
    <span class="toggle-icon">
      <i class="pi pi-chevron-right" aria-hidden="true"></i>
    </span>
  </button>

  <ng-container *ngFor="let item of items(); trackBy: trackByPath">
    <button
      *ngIf="!(item.hidden | async)"
      class="sidebar-item menu-item"
      [class.surface]="item.path !== currentPath()"
      [class.primary]="item.path === currentPath()"
      [class.active]="item.path === currentPath()"
      (click)="select(item.path)"
      type="button"
      [attr.aria-current]="item.path === currentPath() ? 'page' : null"
      [attr.aria-label]="item.title">
      <span class="item-icon">
        <lib-icon
          iconSize="20px"
          [iconClass]="item.icon?.iconClass || 'pi pi-question'"
          [iconContent]="item.icon?.iconContent || ''"
          attr.aria-hidden="true">
        </lib-icon>
      </span>
      <span class="item-title" [class.hidden]="!open()">
        {{ item.title | translate }}
      </span>
    </button>
  </ng-container>
</nav>
